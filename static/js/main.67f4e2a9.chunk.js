(this.webpackJsonpmemotwicheck=this.webpackJsonpmemotwicheck||[]).push([[0],{158:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(0),r=n.n(c),i=n(15),o=n.n(i),s=(n(158),n(8)),l=n(5),u=n(16),d=n(26),j=function(){var e=function(){var e=window;return{width:e.innerWidth,height:e.innerHeight}},t=Object(c.useState)(e()),n=Object(s.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){var t=function(){r(e())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),a},b=n(122),O=n.n(b),f=n(191),g=n(79),h=n.n(g),x=n(228),p=n(230),m=n(232),v=n(141),y=n(121),_=n.n(y),k=Object(x.a)((function(e){return{layOut:{justifyContent:"center"},centerButton:{display:"flex",justifyContent:"center"},nav:{display:"grid",grid:"auto / auto-flow",padding:"3px",marginTop:"4px",marginBottom:"4px",background:"#eee",borderRadius:"10px","& a":{display:"block",color:"#000",padding:" 0 20px",textAlign:"center",lineHeight:"32px",textDecoration:"none"},"& a.active":{background:"#fff",fontWeight:500,borderRadius:"8px",boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)"}},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),T=function(e){var t=k(),n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],o=r[1],l=Object(u.g)(),b=Object(c.useState)(!1),g=Object(s.a)(b,2),x=g[0],y=g[1];Object(c.useEffect)((function(){var e=l.pathname.split("/")[1];"tag"===e||"main"===e?(y(!1),o(e)):y(!0)}),[l]);var T=Object(u.f)(),C=j(),N=C.width;C.height;return Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{position:"fixed",children:Object(a.jsxs)(m.a,{children:[x?Object(a.jsx)(f.a,{onClick:function(){return T.push("/"+i)},children:Object(a.jsx)(h.a,{})}):N<600&&Object(a.jsx)(f.a,{edge:"start",className:t.menuButton,onClick:function(){return e.openMenu()},color:"inherit","aria-label":"menu",children:Object(a.jsx)(_.a,{})}),!x&&Object(a.jsxs)("div",{className:t.centerButton,children:[Object(a.jsxs)("span",{className:t.nav,children:[Object(a.jsx)(d.c,{to:"/main",exact:!0,children:Object(a.jsx)("div",{className:t.a,children:Object(a.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"  \u4e00\u89a7  "})})}),Object(a.jsx)(d.c,{to:"/tag",exact:!0,children:Object(a.jsx)("div",{className:t.a,children:Object(a.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:" \u30bf\u30b0\u691c\u7d22 "})})})]}),Object(a.jsx)(f.a,{onClick:function(){},children:Object(a.jsx)(O.a,{})})]})]})})})},C=n(233),N=n(259),S=n(257),w=n(234),E=n(126),M=n.n(E),I=n(125),R=n.n(I),A=n(123),L=n.n(A),D=n(124),P=n.n(D),F="PUSH_SHOW_MEMO_BUTTON",z="CLOSE_MEMOMAKE",B="LOAD_NEW_MEMO",H="RESET_MEMO",W="MEMO_END",G="ERROR_RESET",Y="RESULT_ERROR",V="CONNECT_ERROR",U="CRITICAL_ERROR",K="NO_ACTION",J="SHOW_REPLY",q="TAGGED_SEARCH",Q="MEMO_INSERT_END",X="MEMO_EDIT_END_MAIN",Z="MEMO_EDIT_END_TAG",$="TAGGED_SEARCH_CONTINUE",ee="SHOW_SNACK",te="LOADING_START",ne="LOADING_END",ae="AUTH_SUCCESS",ce="USER_CONFIG_LIST",re="CHANGE_USER_CONFIG",ie="SHOW_TAG_ADMIN",oe="MAKE_TAG_ADMIN",se="MODIFY_TAG_ADMIN",le="GET_NOTICE_LIST",ue="FREE_MODAL_OPEN",de="FORMED_MODAL_OPEN",je="MAKE_NEWFOLLOW_MODAL",be="DELETE_NEWFOLLOW_MODAL",Oe="MAKE_NEW_REPLY_MODAL",fe="DELETE_NEW_REPLY_MODAL",ge="SHOW_FAVORITE",he=Object(x.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)},fabButton:{position:"fixed",bottom:10,right:10,zIndex:100},Iconspace:{marginRight:e.spacing(2),marginLeft:e.spacing(2)}}})),xe=function(e){Object(l.b)();var t=r.a.useState(null),n=Object(s.a)(t,2),i=n[0],o=n[1],u=Object(c.useState)(null),d=Object(s.a)(u,2),j=d[0],b=d[1],O=[{action:ue,icon:Object(a.jsx)(L.a,{fontSize:"large"})},{action:"dm",icon:Object(a.jsx)(P.a,{fontSize:"large"})},{action:de,icon:Object(a.jsx)(R.a,{fontSize:"large"})}],f=he();return Object(a.jsxs)("div",{children:[Object(a.jsx)(C.a,{className:f.fabButton,onClick:function(e){o(e.currentTarget),b(e.currentTarget)},color:"primary","aria-label":"add","aria-haspopup":"true",children:Object(a.jsx)(M.a,{})}),Object(a.jsx)(N.a,{anchorEl:j,onClose:function(e){console.log("close"),o(null),b(null)},open:Boolean(i),anchorOrigin:{vertical:"center",horizontal:"left"},transformOrigin:{vertical:"center",horizontal:"right"},children:Object(a.jsx)(S.a,{"aria-label":"breadcrumb",children:O.map((function(t){return Object(a.jsx)(w.a,{color:"inherit",href:"/",onClick:function(n){return function(t,n){n.preventDefault(),b(null),o(null),e.onModalOpen(t)}(t.action,n)},children:Object(a.jsx)("div",{className:f.Iconspace,children:t.icon})})}))})})]})},pe=n(254),me=n(238),ve=n(251),ye=n(239),_e=n(237),ke=function(e){return!!e&&Object.keys(e).length>0},Te=function(e){var t=new Date(Date.parse(e)),n=new Date,a=n-t;return a<0?"\u4e88\u5b9a :"+t.getFullYear()+"\u5e74"+parseInt(1+t.getMonth())+"\u6708"+t.getDate()+"\u65e5 "+t.getHours()+":"+t.getMinutes():a<6e4?"\u6570\u79d2\u524d":a<36e5?Math.round(a/6e4)+"\u5206\u524d":a<864e5?Math.round(a/36e5)+"\u6642\u9593\u524d":a<1728e5&&n.getDate()-t.getDate()===1?"\u6628\u65e5"+t.getHours()+"\u6642"+t.getMinutes()+"\u5206":t.getFullYear()===n.getFullYear()?parseInt(1+t.getMonth())+"\u6708"+t.getDate()+"\u65e5 "+t.getHours()+":"+t.getMinutes():t.getFullYear()+"\u5e74"+parseInt(1+t.getMonth())+"\u6708"+t.getDate()+"\u65e5 "+t.getHours()+":"+t.getMinutes()},Ce=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,a=e.getDate(),c=e.getHours(),r=e.getMinutes(),i=e.getSeconds(),o="YYYY-MM-DD hh:mm:ss";return o=(o=(o=(o=(o=(o=o.replace(/YYYY/g,t)).replace(/MM/g,n)).replace(/DD/g,a)).replace(/hh/g,c)).replace(/mm/g,r)).replace(/ss/g,i)},Ne=n(65),Se=n.n(Ne),we=n(127),Ee=n(128),Me="http://itohkun55.pythonanywhere.com/api/",Ie=function(){function e(){Object(we.a)(this,e),this.viewname=""}return Object(Ee.a)(e,[{key:"setView",value:function(e){this.viewname=e}},{key:"getView",value:function(){return this.viewname}},{key:"callAPI",value:function(e,t,n,a,c){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=Object.assign({},t);i.viewname=this.viewname,c({type:te});var o=Se.a.create({baseURL:Me,headers:{Authorization:"Bearer "+localStorage.getItem("access_token")}});o.get(e,{params:i}).then((function(e){if(console.log("results.data",e.data),e.data.errorFlg)c({type:Y,result:e.data});else{var t=a(e.data);""!==r&&(console.log("msg",r),c({type:ee,msg:r})),c({type:n,result:t}),c({type:ne})}})).catch((function(e){console.log("CONNECT_ERROR"),console.log(e),c({type:V,error:e}),c({type:ne})}))}}]),e}(),Re=new Ie,Ae=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(a){var c="-1";e.length>0&&(c=String(e));var r=q;n&&(r=$),Re.callAPI("tags",{tagArray:c,fromDay:t},r,(function(e){return{timeline:e.timeline,read:e.read,fav:e.fav,endflg:e.endflg}}),a)}},Le=function(e){return function(e){Re.callAPI("inituser",{},ae,(function(e){return e.user_list.push({name:"\u672a\u8a2d\u5b9a",id:-1}),{res:e}}),e)}},De=function(e,t,n){return function(a){var c={tagId:e,tagstatus:t,isshow:n};Re.callAPI("changeconfig",c,re,(function(e){return{user_config:e.user_config,main_tag:e.main,sub_tag:e.sub}}),a,"\u30bf\u30b0\u8a2d\u5b9a\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\u3002")}},Pe=function(e,t,n,a){return function(c){var r={tagId:e,tagname:t,tagrank:n,tagtype:a};Re.callAPI("maketagadmin",r,oe,(function(e){return{change:(new Date).getTime()}}),c,"\u30bf\u30b0\u8ffd\u52a0\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}},Fe=function(e,t,n,a){return function(c){var r={tagId:e,tagname:t,tagrank:n,tagtype:a};console.log("sendParams:",r),Re.callAPI("modifytagadmin",r,se,(function(e){return{change:(new Date).getTime()}}),c,"\u30bf\u30b0\u4fee\u6b63\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}},ze=function(e){return function(t){var n=B;-1==e&&(n=H),Re.callAPI("main",{fromDay:e},n,(function(e){return{timeline:e.timeline,read:e.read,fav:e.fav,endflg:e.endflg}}),t)}},Be=n(57),He=n(260),We=n(252),Ge=n(236),Ye=Object(x.a)((function(e){return{root:{flexWrap:"wrap","& > *":{margin:e.spacing(.5)},padding:"0px 0px 0px"},asummary:{borderRadius:5,backgroundColor:"lightblue",borderColor:"gray",border:"2px"},nontag:{color:"#ccc",fontSize:"12pt"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),Ve=function(e){var t=Ye(),n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(0),d=Object(s.a)(u,2),j=d[0],b=d[1],O=Object(l.c)((function(e){return e.auth_login.main_tag})),f=Object(l.c)((function(e){return e.auth_login.sub_tag})),g=Object(l.c)((function(e){return e.auth_login.all_tag})),h=Object(c.useState)([]),x=Object(s.a)(h,2),p=x[0],m=x[1],v=function(t){var n=[];n=i.some((function(e){return e===t}))?i.reduce((function(e,n){return n!==t&&e.push(n),e}),[]):[].concat(Object(Be.a)(i),[t]),o(n),console.log(n),e.setSelected(n)};Object(c.useEffect)((function(){e.end&&o([])}),[e.end]);var y=function(e){return e.map((function(e){var t=function(e,t){return e.find((function(e){return e.id===t}))||{id:-1,strTagName:"\u5b58\u5728\u3057\u306a\u3044\u30bf\u30b0"}}(g,e.keyTag);return Object(a.jsx)(He.a,{variant:i.some((function(e){return e===t}))?"outlined":"default",color:1===t.numTagType?"secondary":2===t.numTagType?"primary":"default",label:t.strTagName,clickable:!0,onClick:function(e){return v(t)}},t.id)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsxs)(We.a,{value:j,onChange:function(e,t){b(t)},children:[Object(a.jsx)(Ge.a,{label:"\u30e1\u30a4\u30f3\u30bf\u30b0"}),Object(a.jsx)(Ge.a,{label:"\u30b5\u30d6\u30bf\u30b0"}),Object(a.jsx)(Ge.a,{label:"\u30bf\u30b0\u691c\u7d22",onClick:function(){m([])}}),Object(a.jsx)(Ge.a,{label:"\u30bf\u30b0\u975e\u8868\u793a"})]})}),Object(a.jsxs)("div",{hidden:0!==j,className:t.root,children:[" ",0===j&&y(O)]}),Object(a.jsxs)("div",{hidden:1!==j,className:t.root,children:[" ",1===j&&y(f)]}),Object(a.jsxs)("div",{hidden:2!==j,className:t.root,children:[" ",2===j&&Object(a.jsxs)("div",{children:[Object(a.jsx)(ve.a,{label:"\u691c\u7d22\u30ef\u30fc\u30c9",placeholder:"\u63a2\u3059\u30bf\u30b0\u306e\u4e00\u90e8\u3092\u5165\u529b",onChange:function(e){if(""!=e.target.value){var t=g.filter((function(t){return t.strTagName.includes(e.target.value)}));m(t)}else m([])},variant:"outlined"}),Object(a.jsx)("div",{children:p.map((function(e){return Object(a.jsx)(He.a,{variant:i.some((function(t){return t===e}))?"outlined":"default",color:1===e.numTagType?"secondary":2===e.numTagType?"primary":"default",label:e.strTagName,clickable:!0,onClick:function(t){return v(e)}},e.id)}))})]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("span",{children:"\u691c\u7d22\u30bf\u30b0:  "}),i.length>0?i.map((function(e){return Object(a.jsx)(He.a,{variant:"default",color:1===e.numTagType?"secondary":2===e.numTagType?"primary":"default",label:e.strTagName,onClick:function(t){return v(e)}},e.id)})):Object(a.jsx)("span",{className:t.nontag,children:"\u30bf\u30b0\u30921\u500b\u4ee5\u4e0a\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"}),Object(a.jsx)("hr",{})]})},Ue=[{id:3,name:"\u5229\u7528\u8005"},{id:4,name:"\u696d\u52d9\u7528\u8a9e"},{id:6,name:"\u90e8\u7f72\u30fb\u5834\u6240"},{id:5,name:"\u65bd\u8a2d\u5185\u7528\u8a9e"}],Ke=[{id:1e3,name:"\u6700\u91cd\u8981"},{id:100,name:"\u91cd\u8981"},{id:10,name:"\u901a\u5e38"},{id:1,name:"\u8868\u793a\u306e\u307f"}],Je=function(e){var t=e.tagtextarray,n=Object(l.c)((function(e){return e.auth_login.all_tag}),[]);return t.split(",").map((function(e){if(e.includes(":")){var t=e.split(":"),c=n.find((function(e){return e.id==t[0]}));return c?c.strTagName+":"+t[1]:Object(a.jsxs)("span",{children:[" \u30bf\u30b0\u4e0d\u660e ",e," :"]})}var r=n.find((function(t){return t.id==e}));return r?Object(a.jsxs)("span",{children:[r.strTagName," :"]}):Object(a.jsxs)("span",{children:[" \u30bf\u30b0\u4e0d\u660e ",e," :"]})}))},qe=function(e){var t=e.id,n=e.prefix,c=void 0===n?"":n,r=e.suffix,i=void 0===r?"":r,o=Object(l.c)((function(e){return e.auth_login.user_list})).find((function(e){return e.id===t}));return o?Object(a.jsxs)("span",{children:[c,o.strName," ",i," "]}):Object(a.jsx)("span",{children:"\u540d\u79f0\u672a\u8a2d\u5b9a"})},Qe=function(e){var t=e.id,n=Object(l.c)((function(e){return e.auth_login.all_tag}),[]).find((function(e){return e.id==t}));return n?Object(a.jsxs)("span",{children:[n.strTagName," :"]}):Object(a.jsxs)("span",{children:[" \u30bf\u30b0\u4e0d\u660e ",t," :"]})},Xe=Object(x.a)((function(e){return{root:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)},padding:"0px 0px 0px"},followarea:{marginLeft:"20%",border:"2px solid #888",width:"80%",fontSize:"12px"}}})),Ze=function(e){var t=Xe();return Object(a.jsxs)("div",{className:t.followarea,children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[" ",Te(e.data.datePublish)]})," ",Object(a.jsx)(qe,{suffix:"\u3088\u308a",id:e.data.keySender})]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:Te(e.data.dateRegist)}),Object(a.jsxs)("span",{children:[" ",Object(a.jsx)(Je,{tagtextarray:e.data.strTaglist})," "]})," ",Object(a.jsx)("span",{children:e.data.strMainText})]})]})},$e=Object(x.a)((function(e){return{root:{flexWrap:"wrap","& > *":{margin:e.spacing(.5)},padding:"0px 0px 0px"},asummary:{borderRadius:5,backgroundColor:"lightblue",borderColor:"gray",border:"2px"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200}}})),et=function(e){var t=$e(),n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(!1),d=Object(s.a)(u,2),j=d[0],b=(d[1],Object(l.b)()),O=Object(c.useState)(!1),f=Object(s.a)(O,2),g=f[0],h=f[1],x=Object(c.useState)(""),p=Object(s.a)(x,2),m=p[0],v=p[1],y=Object(c.useState)(!1),_=Object(s.a)(y,2),k=_[0],T=_[1],C=Object(c.useState)(""),N=Object(s.a)(C,2),S=N[0],w=N[1],E=Object(c.useRef)(null);Object(c.useEffect)((function(){0==i.length||0==S.length||g&&""==m?T(!1):T(!0)}));var M=function(t){var n=i.map((function(e){return e.id})),a=Ce();g&&(a=m),console.log(a,g);var c=-1;ke(e.reply_source)?b(function(e,t,n,a){return function(c){var r={memoId:a.id,tagArray:e,mainText:t,datePublish:Ce(),dateRegist:n};Re.callAPI("repinsert",r,J,(function(e){return{res:e,id:a.id}}),c)}}(n.join(","),t,a,e.reply_source)):(ke(e.follow_data)&&(c=e.follow_data.id),b(function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;return function(c){var r={settags:e,mainText:t,datePublish:Ce(),dateRegist:n,followId:a};Re.callAPI("memoinsert",r,Q,(function(e){return{change:(new Date).getTime()}}),c,"\u66f8\u304d\u8fbc\u307f\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}}(n.join(","),t,a,c))),I()},I=function(){o([]),v(""),h(!1),T(!1),w(""),e.onClose(),ke(e.follow_data)&&b({type:be}),ke(e.reply_source)&&b({type:fe})};return Object(a.jsx)(pe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:e.open,className:t.modal,onClose:function(){I()},closeAfterTransition:!0,children:Object(a.jsx)(_e.a,{in:e.open,children:Object(a.jsxs)(me.a,{className:t.root,children:[ke(e.reply_source)&&Object(a.jsxs)("div",{children:[Object(a.jsx)(Ze,{data:e.reply_source}),Object(a.jsx)("div",{children:"\u4e0b\u77e2\u5370"})]}),Object(a.jsx)(Ve,{setSelected:o,end:j}),ke(e.follow_data)&&Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:"\u8ee2\u9001"}),Object(a.jsx)(Ze,{data:e.follow_data})]}),Object(a.jsx)(ve.a,{id:"filled-textarea",label:"\u5165\u529b\u5185\u5bb9",inputRef:E,placeholder:"\u30bf\u30b0\u306f1\u7a2e\u985e\u4ee5\u4e0a\u9078\u629e\u3057\u307e\u3057\u3087\u3046",multiline:!0,minRows:3,fullWidth:!0,onChange:function(e){return t=e.target.value,void w(t);var t}}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:Object(a.jsx)(ye.a,{color:"primary",variant:"outlined",onClick:function(){return h(!g)},children:g?Object(a.jsx)("span",{children:"\u6642\u523b\u306f\u5916\u3059"}):Object(a.jsx)("span",{children:"\u6642\u523b\u3092\u5165\u308c\u308b"})})}),g&&Object(a.jsxs)("span",{children:[" ",Object(a.jsx)(ve.a,{className:t.textField,type:"datetime-local",onChange:function(e){return t=e.target.value,console.log("time change"+t),void v(t);var t}})," "]}),k?Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"primary",variant:"contained",onClick:function(){return M(E.current.value)},children:"\u6295\u7a3f"})," "]}):Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"primary",variant:"contained",disabled:!0,children:"\u6295\u7a3f"})," "]})]})]})})})},tt=n(130),nt=Object(x.a)((function(e){return{root:{display:"flex",justifyContent:"left-end",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",width:"80%",backgroundColor:e.palette.background.paper,border:"2px solid #000",borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),at=function(e){var t=nt(),n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)([]),d=Object(s.a)(u,2),j=d[0],b=d[1],O=Object(c.useState)({}),f=Object(s.a)(O,2),g=f[0],h=f[1],x=Object(c.useRef)(null),p=Object(c.useRef)(null),m=Object(c.useState)(!1),y=Object(s.a)(m,2),_=(y[0],y[1],Object(l.c)((function(e){return e.auth_login.formatted}))),k=(Object(l.c)((function(e){return e.setview})),Object(c.useState)([])),T=Object(s.a)(k,2),C=T[0],N=T[1],S=Object(l.b)();Object(c.useEffect)((function(){E()}),[i,_]);var w=function(e,t){var n,a=new Set,c=Object(tt.a)(t);try{for(c.s();!(n=c.n()).done;){var r=n.value;e.has(r)&&a.add(r)}}catch(i){c.e(i)}finally{c.f()}return a},E=function(){if(_&&0!==_.length){var e=new Set(i.map((function(e){return e.keyTagMain.id}))),t=new Set(i.map((function(e){return e.strGroup}))),n=[],a=i.reduce((function(e,t){return e<t.numTagPhase?t.numTagPhase:e}),0);_.forEach((function(a){var c=!1,r=new Set(function(e){var t=e.split(",");return t==[]?[]:t.map((function(e){return parseInt(e)}))}(a.strShow));w(r,e).size>0&&(c=!0),e.has(a.id)&&(c=!1),a.strGroup&&t.has(a.strGroup)&&(c=!1),c&&n.push(a)})),n.length>0||(a+=1,_.forEach((function(t){if(t.numTagPhase===a){var c=new Set(t.del);0===w(c,e).size&&n.push(t)}}))),N(n)}},M=function(e){var t=Object.assign([],e);if(o(e),0==e.length)return b([]),void h({});var n=t.pop();b(t),h(n)},I=function(e,t){var n=Object.assign({},e);console.log("copy",n),n.keyTagMain.strTagName=n.keyTagMain.strTagName+":"+t;var a=[].concat(Object(Be.a)(i),[n]);M(a)},R=function(e){var t=i.map((function(e){if(e.keyTagMain.strTagName.includes(":")){var t=e.keyTagMain.strTagName.replace(/.+\:/,":");return e.keyTagMain.id+t}return e.keyTagMain.id}));S(function(e,t){return function(n){var a={settags:e,mainText:t,datePublish:Ce(),dateRegist:Ce()};Re.callAPI("formattedinsert",a,Q,(function(e){return{change:(new Date).getTime()}}),n,"\u767b\u9332\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}}(t.join(","),e))},A=function(){o([]),b([]),h({})},L=function(e){return Object(a.jsx)(He.a,{variant:i.some((function(t){return t===e}))?"outlined":"default",color:D.includes(e.keyTagMain.numTagType)?"secondary":P.includes(e.keyTagMain.numTagType)?"primary":"default",label:e.keyTagMain.strTagName,clickable:!0,onClick:function(t){return function(e){var t=[].concat(Object(Be.a)(i),[e]);M(t)}(e)}})},D=[1],P=[2,3,4,11];return Object(a.jsx)(pe.a,{className:t.modal,open:e.open,onClose:function(){A(),e.onClose()},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",closeAfterTransition:!0,children:Object(a.jsxs)("div",{className:t.paper,children:[Object(a.jsxs)("div",{className:t.root,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(v.a,{variant:"h6",children:"\u7c21\u5358\u60c5\u5831\u5165\u529b\u30d5\u30a9\u30fc\u30e0"})," "]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{children:j.length>0?j.map((function(e){return Object(a.jsx)(He.a,{variant:"default",color:D.includes(e.keyTagMain.numTagType)?"secondary":P.includes(e.keyTagMain.numTagType)?"primary":"default",label:e.keyTagMain.strTagName})})):Object(a.jsx)("div",{})}),Object.keys(g).length>0?Object(a.jsx)(He.a,{variant:"outlined",color:D.includes(g.keyTagMain.numTagType)?"secondary":P.includes(g.keyTagMain.numTagType)?"primary":"default",label:g.keyTagMain.strTagName,clickable:!0,onClick:function(e){return function(){var e=Object.assign([],i);e.pop(),M(e)}()}}):Object(a.jsx)("div",{children:"\u767b\u9332\u5185\u5bb9\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:t.root,children:1===C.length?function(e){var n="none",c="none";console.log("CheckSpecialTag",e);var r=new Date;switch(e.keyTagMain.numTagType){case 11:n="number",c=0;break;case 13:n="text",c="";break;case 16:return function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ve.a,{label:e.name,inputRef:x,className:t.textField,type:"text",multiline:!0,rows:4,InputLabelProps:{shrink:!0},defaultValue:""}),Object(a.jsx)(ye.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return I(e,x.current.value)},children:"\u6b21\u3078"})]})}(e);case 12:n="date",c=r.getFullYear()+"-"+("0"+(r.getMonth()+1)).slice(-2)+"-"+("0"+r.getDate()).slice(-2);break;case 14:n="time",c=("0"+r.getHours()).slice(-2)+":"+("0"+r.getMinutes()).slice(-2);break;default:return L(e)}return Object(a.jsxs)("div",{children:[Object(a.jsx)(ve.a,{label:e.name,inputRef:x,className:t.textField,type:n,InputLabelProps:{shrink:!0},defaultValue:c}),Object(a.jsx)(ye.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return I(e,x.current.value)},children:"\u6b21\u3078"})]})}(C[0]):C.length>0?C.map((function(e){return L(e)})):Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(ve.a,{inputRef:p,className:t.textField,label:"\u88dc\u8db3",placeholder:"\u7279\u306b\u66f8\u304f\u3053\u3068\u304c\u306a\u3051\u308c\u3070\u767b\u9332\u30dc\u30bf\u30f3\u3092\u62bc\u3057\u3066\u304f\u3060\u3055\u3044",InputLabelProps:{shrink:!0}})}),Object(a.jsxs)("div",{children:[Object(a.jsx)(ye.a,{size:"small",variant:"contained",color:"primary",onClick:function(){return t=p.current.value,R(t),A(),void e.onClose();var t},children:"\u767b\u9332"}),Object(a.jsx)(ye.a,{size:"small",variant:"contained",color:"secondary",onClick:function(){return R(e),void A();var e},children:"\u3055\u3089\u306b\u767b\u9332"})]})]})})]})})},ct=n(100),rt="493964433269-ikrgovsenb93hpf699k3mejn8dibiute.apps.googleusercontent.com",it=function(e){var t=e.red,n=(e.callback,Object(c.useState)(t)),r=Object(s.a)(n,2),i=(r[0],r[1],Object(l.b)()),o=Object(u.f)();return Object(a.jsx)("div",{children:Object(a.jsx)(ct.GoogleLogin,{clientId:rt,buttonText:"LOGIN WITH GOOGLE",onSuccess:function(e){return function(e){Se.a.post("".concat(Me,"/auth/convert-token"),{token:e.accessToken,backend:"google-oauth2",grant_type:"convert_token",client_id:"BGf9SFEmFEAaE28P4tVhNxZ5f2LR2RMvifrEqMvX",client_secret:"WmshJasBTZz5UCnFBscWhLo8Kl2Y90o92bstUPKiRzzoLS3YMFSqCf30MmKrVXwvvsAaYkSYBodr9yI6fWub1nHkbQN3ri5LDAhzCeULWmLNBQ1miEdoiOd2prqJbBdz"}).then((function(e){var t=e.data,n=t.access_token,a=t.refresh_token;localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",a),o.push("/main")})).catch((function(e){i({type:V})}))}(e)},render:function(e){return Object(a.jsx)(ye.a,{onClick:e.onClick,disabled:e.disabled,variant:"contained",color:"primary",type:"button",class:"login-with-google-btn",children:Object(a.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"\u30ed\u30b0\u30a4\u30f3"})})},onFailure:function(e){return i({type:V})}})})},ot=function(e){var t=Object(l.b)(),n=Object(u.f)(),c=function(){localStorage.setItem("access_token",""),localStorage.setItem("refresh_token",""),t({type:G}),t({type:W}),n.push("/logout")};return Object(a.jsx)("div",{children:Object(a.jsx)(ct.GoogleLogout,{clientId:rt,buttonText:"Logout",icon:!1,onLogoutSuccess:function(){return c()},children:Object(a.jsx)(ye.a,{onClick:c,variant:"contained",color:"secondary",type:"button",children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})})},st=Object(x.a)((function(e){return{door:{width:"100%"},loginButtonBefore:{animation:"$flash 4s linear infinite",background:"gray"},listShelf:{padding:0},column:{color:"#2d8fdd",borderLeft:"solid 6px #2d8fdd",background:"#f1f8ff",marginBottom:"3px",lineHeight:1.5,padding:"0.5em"}}})),lt=function(e){var t=e.onClose,n=void 0===t?null:t,c=(Object(l.b)(),st()),r=Object(u.f)(),i=Object(l.c)((function(e){return e.auth_login.userRank})),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";console.log("close"),"none"!==e&&r.push(e),n&&n()};return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:c.listShelf,children:[Object(a.jsx)("div",{className:c.column,children:Object(a.jsx)(ot,{})}),[{path:"/favorite",name:"\u304a\u6c17\u306b\u5165\u308a\u4e00\u89a7"},{path:"/notice",name:"\u901a\u77e5\u4e00\u89a7"},{path:"/tagconfig",name:"\u30bf\u30b0\u8a2d\u5b9a"}].map((function(e){return Object(a.jsx)("div",{className:c.column,onClick:function(){return o(e.path)},children:Object(a.jsxs)(v.a,{variant:"subtitle1",gutterBottom:!0,children:[" ",e.name," "]})})})),i>1?Object(a.jsx)("div",{className:c.column,onClick:function(){return o("/tagadmin")},children:Object(a.jsx)(v.a,{variant:"subtitle1",gutterBottom:!0,children:" \u30bf\u30b0\u7ba1\u7406\u30e1\u30cb\u30e5\u30fc "})}):Object(a.jsx)("div",{})]})})},ut=n(261),dt=Object(x.a)((function(e){return{door:{width:"100%"},loginButtonBefore:{animation:"$flash 4s linear infinite",background:"gray"},listShelf:{padding:0,position:"relative"},column:{color:"#2d8fdd",borderLeft:"solid 6px #2d8fdd",background:"#f1f8ff",marginBottom:"3px",lineHeight:1.5,padding:"0.5em"}}})),jt=function(e){Object(l.b)(),dt(),Object(u.f)();return Object(a.jsxs)(ut.a,{anchor:"left",width:200,variant:e.mobile?"temporary":"permanent",open:e.open,onClose:e.onClose,children:[e.mobile&&Object(a.jsx)(f.a,{onClick:function(){return e.onClose()},children:Object(a.jsx)(h.a,{})}),Object(a.jsx)(lt,{onClose:e.mobile&&e.onClose})]})},bt=n(66),Ot=function(){var e=Object(bt.b)().enqueueSnackbar,t=Object(l.c)((function(e){return e.notice_main.snack}));return Object(c.useEffect)((function(){t.length>0&&e(t.slice(-1)[0],{variant:"info",autoHideDuration:1e3})}),[t]),null},ft=n(69),gt=(n(189),n(250)),ht=n(137),xt=n(262),pt=n(242),mt=n(88),vt=n.n(mt),yt=n(89),_t=n.n(yt),kt=n(84),Tt=n.n(kt),Ct=n(85),Nt=n.n(Ct),St=n(86),wt=n.n(St),Et=n(87),Mt=n.n(Et),It=n(83),Rt=n.n(It),At=n(131),Lt=n.n(At),Dt=Object(x.a)((function(e){return{funcColor:{color:"red",borderColor:"red"},staffColor:{color:"green",borderColor:"green"},guestColor:{color:"gold",borderColor:"gold"},placeColor:{color:"blue",borderColor:"blue"},actionColor:{color:"blue",borderColor:"blue"}}})),Pt=function(e){var t=e.d,n=Object(l.c)((function(e){return e.auth_login.all_tag})),c=Dt(),r=["info",c.staffColor,c.guestColor,c.placeColor,c.actionColor],i=t.split(":"),o=n.find((function(e){return e.id==i[0]})),s="";return o&&"undefined"!=typeof o?(s=2==i.length?o.strTagName+":"+i[1]:o.strTagName,Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(He.a,{icon:3===o.numTagType?Object(a.jsx)(Lt.a,{}):2===o.numTagType&&Object(a.jsx)(Rt.a,{}),variant:"outlined",size:"small",className:r[o.numTagType-1],label:s})})):Object(a.jsx)(He.a,{label:"\u4e0d\u660e"})},Ft=function(e){return e.listStr.split(",").map((function(e){return Object(a.jsx)(Pt,{d:e})}))},zt=Object(x.a)((function(e){return{memo:{width:"90%",backgroundColor:e.palette.background.paper,padding:e.spacing(1,2),borderTop:"2px solid #ccc",fontSize:"15px"},ulbutton:{display:"flex",listStyle:"none",align:"flex-end"},topset:{display:"flex",justifyContent:"space-between"},menuButton:{spacing:"10px"},toName:{textAlign:"right"},todatePublish:{textAlign:"right"},toFooter:{margin:"0 0 0 auto"},icons:{justifyContent:"flex-end"},headertext:{justifyContent:"flex-start"},libutton:{margin:10},followarea:{marginLeft:"20%",border:"2px solid #888",width:"80%",fontSize:"12px"},editable:{border:"2px solid",borderColor:"#ffd700",borderRadius:"10px",focus:{outline:"none"}},deleted:{textAlign:"center",verticalAlign:"middle",display:"table-cell",height:"50px",borderRadius:"5px",backgroundColor:"#ddd",color:"#888",fontStyle:"italic"}}})),Bt=function(e){var t=e.data,n=e.read,r=e.fav,i=Object(c.useState)(null),o=Object(s.a)(i,2),d=o[0],j=o[1],b=Boolean(d),O=Object(c.useState)(!1),g=Object(s.a)(O,2),h=g[0],x=g[1],p=Object(c.useState)(!1),m=Object(s.a)(p,2),y=m[0],_=m[1],k=Object(c.useState)(t.strMainText),T=Object(s.a)(k,2),C=T[0],N=T[1],S=Object(l.c)((function(e){return e.auth_login.userId}),-1),w=Object(l.c)((function(e){return e.auth_login.user_list}),[]),E=Object(c.useState)(!1),M=Object(s.a)(E,2),I=M[0],R=M[1],A=Object(c.useState)(r.includes(t.id)),L=Object(s.a)(A,2),D=L[0],P=L[1],F=Object(c.useState)(n.includes(t.id)),z=Object(s.a)(F,2),B=z[0],H=z[1],W=Object(u.f)(),G=zt(),Y=Object(l.b)(),V=function(e){return String(e).split(",").map((function(e){if(String(S)===e)return"\u81ea\u5206";var t=w.find((function(t){return t.id===parseInt(e)}));return"undefined"==typeof t?"\u4e0d\u660e":t.strName})).reduce((function(e,t){return e+","+t}))};return Object(a.jsx)("div",{children:Object(a.jsxs)(gt.a,{className:G.memo,children:[Object(a.jsxs)("div",{className:G.topset,children:[Object(a.jsxs)("span",{className:G.headertext,children:[Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{variant:"h6",children:Te(t.dateRegist)})}),Object(a.jsx)("div",{children:Object(a.jsxs)(v.a,{variant:"subtitle2",children:[V(t.keySender),"\u3088\u308a "]})})]}),Object(a.jsxs)("span",{className:G.ulbutton,children:[Object(a.jsx)("span",{className:G.ulbutton,children:Object(a.jsx)(f.a,{onClick:B?function(){}:function(){H(!B),Y(function(e,t){return function(n){Re.callAPI("setread",{memoId:e,read:t},K,(function(e){return{change:0}}),n,"\u65e2\u8aad\u30c1\u30a7\u30c3\u30af\u5b8c\u4e86")}}(t.id,!B))},children:B?Object(a.jsx)(Tt.a,{}):Object(a.jsx)(Nt.a,{})})}),Object(a.jsx)("span",{className:G.icons,children:Object(a.jsx)(f.a,{onClick:function(){P(!D),Y(function(e,t){return function(n){Re.callAPI("setfav",{memoId:e,fav:t},K,(function(e){return{change:0}}),n,"\u304a\u6c17\u306b\u5165\u308a\u767b\u9332\u5b8c\u4e86")}}(t.id,!D))},children:D?Object(a.jsx)(wt.a,{}):Object(a.jsx)(Mt.a,{})})}),S===t.keySender&!t.boolHasDeleted?Object(a.jsx)("span",{className:G.icons,children:Object(a.jsxs)("span",{children:[Object(a.jsx)(f.a,{edge:"start",color:"inherit",onClick:function(e){j(e.currentTarget)},children:Object(a.jsx)(Rt.a,{})}),Object(a.jsxs)(ht.a,{id:"basic-menu",anchorEl:d,open:b,onClose:function(){j(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(a.jsx)(xt.a,{onClick:function(){return t.strMainText,x(!0),void j(null)},children:"\u30e1\u30e2\u3092\u4fee\u6b63"}),Object(a.jsx)(xt.a,{onClick:function(){_(!0),j(null)},children:"\u30e1\u30e2\u3092\u524a\u9664"})]})]})}):Object(a.jsx)("span",{})]})]}),h?function(e){var n=function(){var e,n,a=C.replace(/<br>/g,"\n");Y((e=t.id,n=a,function(t){var a=X;"tag"==Re.getView()&&(a=Z);var c={memoId:e,mainText:n};Re.callAPI("memomodify",c,a,(function(e){return e}),t,"\u4fee\u6b63\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")})),x(!1)};return Object(a.jsxs)(gt.a,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{variant:"h6",children:"\u7de8\u96c6"})}),Object(a.jsx)("div",{className:G.editable,children:Object(a.jsx)("span",{contentEditable:!0,dangerouslySetInnerHTML:{__html:t.strMainText.replace(/\n/g,"<br>")},onInput:function(e){return function(e){N(e)}(e.target.innerHTML)}})})]}),Object(a.jsxs)("div",{className:G.toFooter,children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"primary",variant:"contained",onClick:function(){return n()},children:Object(a.jsx)(v.a,{variant:"button",children:"\u6295\u7a3f"})})," "]}),Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"default",variant:"contained",onClick:function(){x(!1)},children:Object(a.jsx)(v.a,{variant:"button",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})," "]})]})]})}():Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsxs)("span",{children:[" ",Object(a.jsx)(Ft,{listStr:t.strTaglist})]})}),t.boolHasDeleted?Object(a.jsx)("div",{className:G.deleted,children:Object(a.jsx)(v.a,{variant:"h6",children:"\u3053\u306e\u30e1\u30e2\u306f\u524a\u9664\u3055\u308c\u307e\u3057\u305f"})}):function(){var e=t.strMainText;return e.length<40?Object(a.jsx)("div",{style:{whiteSpace:"pre-line"},children:Object(a.jsx)(v.a,{variant:"body1",children:e})}):Object(a.jsx)("div",{children:I?Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{whiteSpace:"pre-line"},children:Object(a.jsx)(v.a,{variant:"body1",children:e})}),Object(a.jsx)("span",{onClick:function(){return R(!1)},children:Object(a.jsx)(v.a,{variant:"body1",children:Object(a.jsx)("b",{children:"\u5143\u306b\u623b\u3059"})})})]}):Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{style:{whiteSpace:"pre-line"},children:Object(a.jsxs)(v.a,{variant:"body1",children:[e.substring(0,40),"...."]})}),Object(a.jsx)("span",{onClick:function(){return R(!0)},children:Object(a.jsx)(v.a,{variant:"body1",children:Object(a.jsx)("b",{children:"\u6b8b\u308a\u3092\u958b\u304f"})})})]})})}()]}),t.keyFollowId&&Object(a.jsx)("div",{className:G.followarea,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Te(t.keyFollowId.dateRegist)}),Object(a.jsxs)("div",{children:[" ",Object(a.jsx)(Ft,{listStr:t.keyFollowId.strTaglist})," "]})," ",Object(a.jsx)("div",{children:t.keyFollowId.strMainText})]})}),y?function(){var e=function(){var e;Y((e=t.id,function(t){var n={memoId:e};Re.callAPI("memodelete",n,Q,(function(e){return{change:(new Date).getTime()}}),t,"\u524a\u9664\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002")}))};return Object(a.jsxs)(gt.a,{children:[Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{variant:"h6",children:"\u3053\u306e\u30e1\u30e2\u3092\u524a\u9664\u3059\u308b"})}),Object(a.jsxs)("div",{className:G.toFooter,children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"primary",variant:"contained",onClick:function(){return e()},children:Object(a.jsx)(v.a,{variant:"button",children:"\u524a\u9664"})})," "]}),Object(a.jsxs)("span",{children:[Object(a.jsx)(ye.a,{color:"default",variant:"contained",onClick:function(){_(!1)},children:Object(a.jsx)(v.a,{variant:"button",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})," "]})]})]})}():Object(a.jsxs)("div",{className:G.ulbutton,children:[Object(a.jsx)("span",{children:Object(a.jsx)(f.a,{edge:"start",color:"inherit",className:G.menuButton,onClick:function(){return Y({type:Oe,reply_source:t})},children:Object(a.jsx)(vt.a,{size:"small"})})}),Object(a.jsx)("span",{children:Object(a.jsx)(f.a,{edge:"start",ize:"small",color:"inherit",onClick:function(){return Y({type:je,follow_data:t})},children:Object(a.jsx)(_t.a,{size:"small"})})}),t.keyReplyBase&&Object(a.jsx)("span",{children:Object(a.jsx)(ye.a,{edge:"start",ize:"small",color:"inherit",onClick:function(){return W.push("/reply/"+t.id)},endIcon:Object(a.jsx)(pt.a,{}),children:" \u5fdc\u7b54\u3092\u958b\u304f "})}),t.boolHasModified&&Object(a.jsx)("span",{children:" \u4fee\u6b63\u3042\u308a "}),Object(a.jsxs)("span",{className:G.toFooter,children:[Object(a.jsxs)("div",{className:G.todatePublish,children:[" ",Te(t.datePublish)]}),t.listReceiver&""!==t.listReceiver?Object(a.jsxs)("div",{className:G.toName,children:["\u5b9b\u5148:",V(t.listReceiver)]}):Object(a.jsx)("div",{})]})]})]})})},Ht=n(243),Wt=Object(x.a)((function(e){return{loadingRoot:{background:"#888",opacity:.3,height:"100vh",top:0},loadingCircle:{zIndex:2e3,background:"#888",display:"flex",justifyContent:"center",marginTop:"30%",alignItems:"center"}}})),Gt=function(e){var t=Wt();return Object(a.jsxs)("div",{className:t.loadingRoot,children:["AAAA",Object(a.jsx)("div",{children:"\u5f8c\u306b\u66f8\u3044\u3066\u3042\u308b\u3082\u306e"}),Object(a.jsx)("div",{className:t.loadingCircle,children:Object(a.jsx)(Ht.a,{color:"inherit"})})]})},Yt=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Test Main"}),Object(a.jsx)(Gt,{})]})},Vt=n(193),Ut=n(132),Kt=function(e){var t=Object(Ut.throttle)((function(){var t=Math.round(window.innerHeight+document.documentElement.scrollTop),n=Math.round(document.documentElement.scrollHeight);Math.abs(t-n)>5||e.endflg||e.scrollFunc()}),200);return r.a.useEffect((function(){document.documentElement.scrollTop=0,e.scrollFunc()}),[]),r.a.useEffect((function(){return window.removeEventListener("scroll",t),window.addEventListener("scroll",t),function(){window.removeEventListener("scroll",t)}}),[e.checkParam]),Object(a.jsx)("div",{})},Jt=n(244),qt=n(245),Qt=Object(Vt.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),Xt=function(e){var t=Object(l.c)((function(e){return e.auth_login.user_list}),[]),n=Object(l.c)((function(e){return e.memo_main.timeline}),[]),r=Object(l.c)((function(e){return e.memo_main.read}),[]),i=Object(l.c)((function(e){return e.memo_main.fav}),[]),o=Object(l.c)((function(e){return e.memo_main.endflg})),s=Object(l.b)(),u=Object(l.c)((function(e){return e.memo_main.change}));Object(c.useEffect)((function(){n.length>0&&s(ze("-1"))}),[u]);var d=Qt();return Object(a.jsxs)("div",{className:d.base,children:[t.length>0&&Object(a.jsx)(Kt,{scrollFunc:function(){return function(){var e="-1";n.length>0&&(e=new Date(n.slice(-1)[0].dateRegist).toJSON()),o||(console.log(" Add Start",e),s(ze(e)))}()},checkParam:n,endflg:o,buffer:60}),Object(a.jsx)(Jt.a,{spacing:2,children:n.map((function(e){return Object(a.jsx)(Bt,{data:e,read:r,fav:i},e.id)}))}),o?Object(a.jsx)("div",{children:"\u73fe\u5728\u306e\u8868\u793a\u5185\u5bb9\u306f\u4ee5\u4e0a\u3067\u3059\u3002"}):Object(a.jsx)("div",{className:d.progress,children:Object(a.jsx)(qt.a,{})})]})},Zt=Object(x.a)((function(e){return{loadingRoot:{display:"absolute",zIndex:2e5,padding:"10px",height:"100vh"},loadingCircle:{display:"flex",justifyContent:"center",marginTop:"30%",alignItems:"center",opacity:.5}}})),$t=function(){var e=Zt();return Object(a.jsx)("div",{className:e.loadingRoot,children:Object(a.jsx)("div",{className:e.loadingCircle,children:Object(a.jsx)(Ht.a,{color:"success",size:60})})})},en=function(e){var t=Object(l.c)((function(e){return e.auth_login.isLoad}),!1);return Object(a.jsx)("div",{children:e.isModal?Object(a.jsx)(pe.a,{open:t,closeAfterTransition:!0,onClose:function(){},children:Object(a.jsx)($t,{})}):t?Object(a.jsx)($t,{}):Object(a.jsx)("div",{})})},tn=function(e){Re.setView("main");var t=Object(l.c)((function(e){return e.auth_login.all_tag}));return Object(a.jsxs)("div",{className:"page",children:[t&&Object(a.jsx)(Xt,{}),Object(a.jsx)(en,{isModal:!1})]})},nn=Object(Vt.a)((function(e){return{base:{position:"relative",top:"60px"}}})),an=function(e){var t=Object(l.c)((function(e){return e.auth_login.all_tag}),[]),n=Object(l.c)((function(e){return e.tagged_main.timeline})),r=Object(l.c)((function(e){return e.tagged_main.read}),[]),i=Object(l.c)((function(e){return e.tagged_main.fav}),[]),o=Object(l.c)((function(e){return e.memo_main.endflg}),!0),u=Object(l.c)((function(e){return e.memo_main.change})),d=Object(c.useState)([]),j=Object(s.a)(d,2),b=j[0],O=j[1],f=nn(),g=Object(c.useState)(!1),h=Object(s.a)(g,2),x=h[0],p=h[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),y=v[0],_=v[1],k=Object(c.useState)(!1),T=Object(s.a)(k,2),C=T[0],N=T[1],S=Object(l.b)();Object(c.useEffect)((function(){t.length>0&&p(!0),_(0!==n.length&o),N(0!==n.length&!o)}),[t,o,n]);var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.map((function(e){return e.id}));console.log(e,a),""==t&&(t="-1"),S(Ae(a,t,n))};Object(c.useEffect)((function(){w(b)}),[u]);return Object(a.jsxs)("div",{children:[x&&Object(a.jsx)(Kt,{scrollFunc:function(){return function(){if(console.log("setNewTagList  --"),n&&0!=b.length){var e=new Date(n.slice(-1)[0].dateRegist).toJSON();w(b,e,!0)}}()},checkParam:n,endflg:o,buffer:60}),Object(a.jsxs)("div",{className:f.base,children:[Object(a.jsx)(Ve,{setSelected:function(e){O(e),w(e)},end:!1}),0===n.length?Object(a.jsxs)("div",{children:[" \u8a72\u5f53\u3059\u308b\u691c\u7d22\u7d50\u679c\u306f\u5b58\u5728\u3057\u307e\u305b\u3093\u3002",Object(a.jsx)("br",{}),"\u30bf\u30b0\u3092\u65b0\u898f\u9078\u629e\u3059\u308b\u304b\u3001\u73fe\u5728\u9078\u629e\u306e\u30bf\u30b0\u3092\u5916\u3057\u3066\u304f\u3060\u3055\u3044\u3002 "]}):n.map((function(e){return Object(a.jsx)(Bt,{data:e,read:r,fav:i},e.id)})),y?Object(a.jsx)("div",{children:"\u73fe\u5728\u306e\u8868\u793a\u5185\u5bb9\u306f\u4ee5\u4e0a\u3067\u3059\u3002"}):Object(a.jsx)("div",{}),C?Object(a.jsx)("div",{className:f.progress,children:Object(a.jsx)(qt.a,{})}):Object(a.jsx)("div",{})]})]})},cn=function(e){return Object(c.useEffect)((function(){Re.setView("tag")}),[]),Object(a.jsxs)("div",{className:"page",children:[Object(a.jsx)(an,{}),Object(a.jsx)(en,{isModal:!1})]})},rn=n(241),on=n(75),sn=n.n(on),ln=n(133),un=n.n(ln),dn=n(134),jn=n.n(dn),bn=Object(x.a)((function(e){return{memo:{width:"90%",backgroundColor:e.palette.background.paper,padding:e.spacing(1,2,0),borderTop:"2px solid #ccc"},memoSub:{width:"80%",right:"20px",backgroundColor:e.palette.background.default,padding:e.spacing(1,2,0),borderTop:"2px solid #ccc"},memoChild:{width:"85%",right:"20px",backgroundColor:e.palette.background.default,padding:e.spacing(1,2,0),borderTop:"2px solid #ccc"},memoParent:{width:"85%",backgroundColor:e.palette.background.default,padding:e.spacing(1,2,0),border:"1px solid #555555"},ulbutton:{display:"flex",listStyle:"none",align:"flex-end"},menuButton:{spacing:"10px"},icons:{justifyContent:"flex-end"},headertext:{justifyContent:"flex-start"},libutton:{margin:10},textarea:{}}})),On=function(e){var t=e.data,n=e.boxstyle,r=(e.mark,t);console.log("rpc",r),console.log("rpc str",r.strMainText);var i,o=bn(),u=Object(c.useState)(r.strMainText),d=Object(s.a)(u,2),j=d[0],b=d[1],O=Object(l.c)((function(e){return e.auth_login.user_list}),[]),g=(Object(l.c)((function(e){return e.auth_login.all_tag}),[]),Object(l.c)((function(e){return e.memo_main.read}))),h=Object(l.c)((function(e){return e.memo_main.fav})),x=Object(c.useState)(!1),p=Object(s.a)(x,2),m=p[0],v=p[1],y=Object(c.useState)(h.includes(t.id)),_=Object(s.a)(y,2),k=_[0],T=_[1],C=Object(c.useState)(g.includes(t.id)),N=Object(s.a)(C,2),S=N[0],w=N[1],E=Object(c.useState)(o.memo),M=Object(s.a)(E,2),I=M[0],R=M[1],A=function(e){b(e?r.strMainText:r.strMainText.substring(0,40)+"....")},L=function(){A(!m),v(!m)};return Object(c.useEffect)((function(){switch(A(m),n){case"thread":R(o.memoSub);break;case"parent":R(o.memoParent);break;case"child":R(o.memoChild);break;default:R(o.memo)}})),Object(a.jsx)("div",{children:Object(a.jsxs)(gt.a,{className:I,children:[Object(a.jsxs)("div",{className:o.ulbutton,children:[Object(a.jsxs)("span",{className:o.headertext,children:[Object(a.jsxs)("div",{children:[" ",Te(t.datePublish)]})," ",Object(a.jsxs)("div",{children:[(i=t.keySender,String(i).split(",").map((function(e){return O.find((function(t){return t.id===parseInt(e)})).strName})).reduce((function(e,t){return e+","+t}))),"\u3088\u308a "]})]}),Object(a.jsx)("span",{className:o.icons,children:Object(a.jsx)(f.a,{onClick:function(){T(!k)},children:k?Object(a.jsx)(Tt.a,{}):Object(a.jsx)(Nt.a,{})})}),Object(a.jsx)("span",{className:o.icons,children:Object(a.jsx)(f.a,{onClick:function(){w(!S)},children:S?Object(a.jsx)(wt.a,{}):Object(a.jsx)(Mt.a,{})})}),Object(a.jsx)("div",{className:o.icons,children:Object(a.jsx)(f.a,{onClick:L,children:m?Object(a.jsx)(un.a,{}):Object(a.jsx)(sn.a,{})})})]}),Object(a.jsxs)(rn.a,{in:m,collapsedHeight:30,children:[Object(a.jsx)("div",{onClick:L,className:o.ulbutton,children:Object(a.jsx)("div",{className:o.textarea,children:j})}),Object(a.jsx)("div",{className:o.ulbutton,children:Object(a.jsxs)("div",{children:[Object(a.jsx)(f.a,{edge:"start",color:"inherit",className:o.menuButton,children:Object(a.jsx)(vt.a,{size:"small"})}),Object(a.jsx)(f.a,{edge:"start",ize:"small",color:"inherit",children:Object(a.jsx)(_t.a,{size:"small"})}),Object(a.jsx)(f.a,{edge:"start",size:"small",color:"inherit",children:Object(a.jsx)(jn.a,{size:"small"})})]})})]})]})})},fn=Object(x.a)({wrapper:function(e){return{width:"100%",margin:"2em auto",position:"relative",padding:"0em 1em","&:after":{content:"",display:"table",clear:"both"},"&:before":{content:'""',position:"absolute",top:0,left:"10px",height:e.lineHeight+"px",width:"2px",background:"black"}}}}),gn=function(e){var t=Object(c.useState)(0),n=Object(s.a)(t,2),r=n[0],i=n[1],o=fn({lineHeight:r}),l=Object(c.useRef)(null);return Object(c.useLayoutEffect)((function(){var e=function(){i(l.current.clientHeight)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}}),[e.data,r]),Object(a.jsx)("div",{className:o.wrapper,ref:l,lineHeight:r,children:e.data.map((function(t){return Object(a.jsx)(On,{boxstyle:"thread",data:t,mark:e.mark},t.id)}))})},hn=Object(x.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),xn=function(e){var t=Object(l.c)((function(e){return e.reply_main}));console.log("reply_main",t);var n=Object(l.b)(),r=hn();Object(c.useEffect)((function(){var t;n((t=e.match.params.id,function(e){Re.callAPI("reply",{memoId:t},J,(function(e){return{timeline:e.timeline,read:e.read,fav:e.fav,endflg:e.endflg,id:t}}),e)}))}),[]),Object(c.useEffect)((function(){console.log("reply_main",t)}),[t]);return t.load_flg?Object(a.jsxs)("div",{className:r.base,children:[0!==t.past_thread.length?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[" \u904e\u53bb\u306e\u5c65\u6b74 ",Object(a.jsx)("div",{})," ",Object(a.jsx)(gn,{data:t.past_thread,boxstyle:"thread",mark:"a"})]})}):Object(a.jsx)("div",{}),0!==Object.keys(t.parent_data).length?Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:" \u76f4\u8fd1\u306e\u5fdc\u7b54"}),Object(a.jsx)(On,{data:t.parent_data,mark:"b"})]}):Object(a.jsx)("div",{}),Object(a.jsx)("div",{children:Object(a.jsx)(On,{data:t.self_data,mark:"e"})}),0!==t.child_data.length?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[" \u95a2\u9023\u3059\u308b\u5fdc\u7b54 ",Object(a.jsx)("div",{})," ",Object(a.jsx)(gn,{data:t.child_data,boxstyle:"thread",mark:"c"})]})}):Object(a.jsx)("div",{}),0!==t.future_thread.length?Object(a.jsx)("div",{children:Object(a.jsxs)("div",{children:[" \u305d\u306e\u5f8c\u306e\u5c65\u6b74 ",Object(a.jsx)("div",{})," ",Object(a.jsx)(gn,{data:t.future_thread,boxstyle:"thread",mark:"d"})]})}):Object(a.jsx)("div",{})]}):Object(a.jsx)(qt.a,{})},pn=Object(x.a)((function(e){return{memo:{width:"90%",backgroundColor:e.palette.background.paper,padding:e.spacing(1,2,0),border:"1px solid #000"},mainExp:{fontSize:"12pt",color:"#555555"},subExp:{fontSize:"10pt",color:"#aaa"}}})),mn=function(e){var t=e.data,n=Object(l.c)((function(e){return e.auth_login.user_list})),r=pn(),i=Object(c.useState)(t.keyMemoMain.strMainText.substring(0,40)+"...."),o=Object(s.a)(i,2),u=o[0],j=(o[1],Object(c.useState)("")),b=Object(s.a)(j,2),O=b[0],f=b[1];return Object(c.useEffect)((function(){if(console.log("userlist ",n),n&&0!==n.length){var e=function(e,t){var n=e.find((function(e){return e.id===t}));return n?n.strName:"\u540d\u79f0\u4e0d\u5b9a"}(n,t.keyMemoMain.keySender);1===t.numNoticeType?f(e+"\u304b\u3089\u30e1\u30e2\u304c\u6765\u3066\u3044\u307e\u3059\u3002"):f(e+"\u304b\u3089\u8fd4\u4fe1\u304c\u6765\u3066\u3044\u307e\u3059\u3002")}}),[n]),Object(a.jsx)("div",{children:Object(a.jsx)(gt.a,{className:r.memo,children:Object(a.jsxs)(d.b,{underline:"none",to:"/reply/"+t.keyMemoMain.id,replace:!0,children:[Object(a.jsxs)("div",{className:r.mainExp,children:[Te(t.keyMemoMain.dateRegist)," : ",O]}),Object(a.jsxs)("div",{className:r.subExp,children:[u," "]})]})})})},vn=Object(Vt.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),yn=function(e){var t=Object(l.c)((function(e){return e.notice_main.notices})),n=Object(l.c)((function(e){return e.notice_main.endflg})),r=Object(c.useState)(0),i=Object(s.a)(r,2),o=(i[0],i[1],Object(l.b)());Object(c.useEffect)((function(){console.log(" Add Start"),o((function(e){Re.callAPI("getnotice",{},le,(function(e){return{notices:e.notices,count:e.count}}),e)}))}),[]);var u=vn();return Object(a.jsxs)("div",{className:u.base,children:[t.length>0?t.map((function(e){return Object(a.jsx)(mn,{data:e})})):Object(a.jsx)("div",{children:"\u30ed\u30fc\u30c9\u4e2d"}),n?Object(a.jsx)("div",{children:"\u73fe\u5728\u306e\u8868\u793a\u5185\u5bb9\u306f\u4ee5\u4e0a\u3067\u3059\u3002"}):Object(a.jsx)("div",{className:u.progress,children:Object(a.jsx)(qt.a,{})})]})},_n=Object(x.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),kn=function(e){_n();return Object(a.jsx)("div",{children:Object(a.jsx)(yn,{})})},Tn=Object(Vt.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),Cn=function(e){var t=Object(l.c)((function(e){return e.show_favorite.timeline}),[]),n=Object(l.c)((function(e){return e.show_favorite.read}),[]),r=Object(l.c)((function(e){return e.show_favorite.fav}),[]),i=Object(l.c)((function(e){return e.show_favorite.endflg})),o=Object(c.useState)(0),u=Object(s.a)(o,2),d=(u[0],u[1],Object(l.b)()),j=function(){d((function(e){Re.callAPI("favorite",{memoId:1,fav:2},ge,(function(e){return{timeline:e.timeline,read:e.read,fav:e.fav,endflg:e.end}}),e)}))},b=Tn();return Object(a.jsxs)("div",{className:b.base,children:[Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{variant:"h5",gutterBottom:!0,children:"\u304a\u6c17\u306b\u5165\u308a\u4e00\u89a7"})}),Object(a.jsx)("hr",{}),Object(a.jsx)(Kt,{scrollFunc:function(){return j()},checkParam:t,endflg:i,buffer:60}),t&&t.map((function(e){return Object(a.jsx)(Bt,{data:e,read:n,fav:r},e.id)})),i?Object(a.jsx)("div",{children:Object(a.jsx)(v.a,{variant:"h6",gutterBottom:!0,children:"\u73fe\u5728\u306e\u8868\u793a\u5185\u5bb9\u306f\u4ee5\u4e0a\u3067\u3059\u3002"})}):Object(a.jsx)("div",{className:b.progress,children:Object(a.jsx)(qt.a,{})})]})},Nn=Object(x.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),Sn=function(e){Nn();return Object(a.jsx)("div",{children:Object(a.jsx)(Cn,{})})},wn=n(235),En=n(129),Mn=n(246),In=n(256),Rn=Object(x.a)((function(e){return{root:{flexWrap:"wrap",top:"200px","& > *":{margin:e.spacing(.5)},padding:"0px 0px 0px"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),An=function(e){Object(l.c)((function(e){return e.auth_login.tag_list}));var t=Object(c.useState)(e.data.numTagStatus),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(e.data.boolIsShownInList),u=Object(s.a)(o,2),d=u[0],j=u[1],b=Rn(),O=Object(l.b)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("span",{children:[" ",Object(a.jsx)(Qe,{id:e.data.keyTag})," "]}),Object(a.jsx)("span",{children:Object(a.jsx)(wn.a,{className:b.formControl,children:Object(a.jsxs)(En.a,{value:r,onChange:function(t){return function(e,t){var n=e.target.value;i(n),O(De(t,n,d))}(t,e.data.keyTag)},name:"status",className:b.selectEmpty,inputProps:{"aria-label":"age"},children:[Object(a.jsx)("option",{defaultChecked:!0,value:"1",children:"\u30e1\u30a4\u30f3\u30ea\u30b9\u30c8"}),Object(a.jsx)("option",{value:"2",children:"\u30b5\u30d6\u30ea\u30b9\u30c8"}),Object(a.jsx)("option",{value:"-1",children:"\u691c\u7d22\u306e\u307f"})]})})}),Object(a.jsx)("span",{children:Object(a.jsx)(Mn.a,{control:Object(a.jsx)(In.a,{checked:d,onChange:function(t){return n=e.data.keyTag,j(!d),void O(De(n,r,!d));var n},color:"primary"}),label:"\u4e00\u89a7\u8868\u793a"})})]})},Ln=function(){var e=Object(l.c)((function(e){return e.auth_login.user_config}),[]),t=Object(l.b)(),n=Rn();Object(c.useEffect)((function(){t((function(e){Re.callAPI("tagconfig",{},ce,(function(e){return{user_config:e}}),e)}))}),[]),Object(c.useEffect)((function(){}),[e]);return Object(a.jsxs)("div",{className:n.root,children:[Object(a.jsx)("div",{children:Object(a.jsx)(ye.a,{variant:"contained",color:"primary",onClick:function(){t((function(e){Re.callAPI("tagreset",{},ce,(function(e){return{user_config:e}}),e,"\u30bf\u30b0\u304c\u3059\u3079\u3066\u30ea\u30bb\u30c3\u30c8\u3055\u308c\u307e\u3057\u305f\u3002")}))},children:"\u5168\u30bf\u30b0\u30ea\u30bb\u30c3\u30c8"})}),e.length>0&&e.map((function(e){return Object(a.jsx)(An,{data:e})}))]})},Dn=Object(x.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),Pn=function(e){var t=Dn();return Object(a.jsx)("div",{className:t.base,children:Object(a.jsx)(Ln,{})})},Fn=n(263),zn=n(255),Bn=Object(x.a)((function(e){return{root:{flexWrap:"wrap",top:"200px","& > *":{margin:e.spacing(.5)},padding:"0px 0px 0px"},formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),Hn=function(e){var t=Object(c.useState)(!0),n=Object(s.a)(t,2),r=(n[0],n[1],Object(l.c)((function(e){return e.tag_admin.change}),0),Object(c.useState)("")),i=Object(s.a)(r,2),o=i[0],u=i[1],d=Object(c.useState)(-1),j=Object(s.a)(d,2),b=j[0],O=j[1],f=Object(c.useState)(-1),g=Object(s.a)(f,2),h=g[0],x=g[1],p=Object(c.useState)(""),m=Object(s.a)(p,2),v=m[0],y=m[1],_=Bn(),k=Object(l.b)(),T=function(){e.onCancel()};Object(c.useEffect)((function(){u(e.data.strTagName),O(e.data.numTagRank),x(e.data.numTagType)}),[e.data]);var C=function(){if(""!=o)if(-1!=b&&0!=b)if(-1!=h&&0!=h){var t=Fe;-1==e.data.id&&(t=Pe),k(t(e.data.id,o,b,h)),y("")}else y("\u30bf\u30b0\u306e\u7a2e\u985e\u304c\u672a\u8a2d\u5b9a\u3067\u3059"+String(h));else y("\u30bf\u30b0\u306e\u91cd\u8981\u5ea6\u304c\u672a\u8a2d\u5b9a\u3067\u3059"+String(b));else y("\u30bf\u30b0\u540d\u304c\u3042\u308a\u307e\u305b\u3093")},N=function(){return Object(a.jsxs)("div",{children:[""!=v?Object(a.jsx)("div",{children:v}):Object(a.jsx)("div",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:Object(a.jsx)(ve.a,{placeholder:"\u30bf\u30b0\u306e\u540d\u79f0\u3092\u5165\u529b",onChange:function(e){return u(e.target.value)},defaultValue:o,variant:"outlined",disabled:!1})}),Object(a.jsxs)("span",{children:[Object(a.jsx)(wn.a,{className:_.formControl,children:Object(a.jsx)(En.a,{defaultValue:b,onChange:function(e){return O(e.target.value)},name:"tagrank",className:_.selectEmpty,inputProps:{"aria-label":"age"},children:Ke.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))})}),Object(a.jsx)(wn.a,{className:_.formControl,children:Object(a.jsx)(En.a,{onChange:function(e){return x(e.target.value)},defaultValue:h,name:"status",className:_.selectEmpty,inputProps:{"aria-label":"age"},children:Ue.map((function(e){return Object(a.jsx)("option",{value:e.id,children:e.name})}))})})]}),Object(a.jsx)("span",{children:Object(a.jsx)(ye.a,{onClick:C,variant:"contained",label:"\u767b\u9332",children:"\u767b\u9332"})}),Object(a.jsx)("span",{children:Object(a.jsx)(ye.a,{onClick:T,variant:"contained",label:"\u30ad\u30e3\u30f3\u30bb\u30eb",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})})]})]})};return Object(a.jsx)("div",{children:-1==h?Object(a.jsx)("div",{}):e.add||e.open?N():function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:e.data.strTagName}),Object(a.jsx)("span",{children:(n=b,Ke.find((function(e){return e.id==n}))).name}),Object(a.jsx)("span",{children:(t=h,Ue.find((function(e){return e.id==t}))).name}),Object(a.jsx)("span",{children:Object(a.jsx)(ye.a,{onClick:function(){e.onSelect(e.data.id)},variant:"contained",label:"\u767b\u9332",children:"\u7de8\u96c6"})})]});var t,n}()})},Wn=function(){var e=Bn(),t=Object(l.c)((function(e){return e.tag_admin.tag_list}),[]),n=Object(l.c)((function(e){return e.tag_admin.change}),0),r=Object(c.useState)(-1),i=Object(s.a)(r,2),o=i[0],u=i[1],d=Object(c.useState)(!1),j=Object(s.a)(d,2),b=j[0],O=j[1],f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return t.filter((function(t){return t.numTagType==e}))},g=Object(c.useState)(4),h=Object(s.a)(g,2),x=h[0],p=h[1],m=Object(c.useState)(f()),v=Object(s.a)(m,2),y=v[0],_=v[1],k=Object(l.b)();Object(c.useEffect)((function(){k((function(e){Re.callAPI("showtagadmin",{},ie,(function(e){return{tag_list:e.tag_list}}),e)})),u(-1)}),[n]);var T=function(e){O(!1),u(e)},C=function(){u(-1)};Object(c.useEffect)((function(){_(f(x)),O(!1)}),[x,t]);return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)("div",{children:Object(a.jsx)(ye.a,{label:"\u30bf\u30b0\u8ffd\u52a0",onClick:function(){return O(!0),void u(-1)},variant:"contained",color:"primary",disabled:b,children:"\u30bf\u30b0\u8ffd\u52a0"})}),Object(a.jsx)("div",{children:Object(a.jsx)(wn.a,{component:"fieldset",children:Object(a.jsx)(Fn.a,{row:!0,defaultValue:x,children:Ue.map((function(e){return Object(a.jsx)(Mn.a,{value:e.id,checked:e.id==x,onChange:function(){return p(e.id)},control:Object(a.jsx)(zn.a,{}),label:e.name})}))})})}),Object(a.jsx)("hr",{}),b?Object(a.jsx)(Hn,{add:!0,open:!0,onCancel:function(){return O(!1)},onSelect:T,data:{id:-1,strTagName:"",numTagRank:0,numTagType:x}}):Object(a.jsx)("div",{}),y.map((function(e){return Object(a.jsx)(Hn,{add:!1,open:e.id==o,onCancel:C,onSelect:T,data:e})}))]})},Gn=Object(x.a)((function(e){return{base:{position:"relative",top:"60px"},progress:{width:"80%",margin:"2px"}}})),Yn=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.tag_admin.change}),0),r=Gn();return Object(c.useEffect)((function(){t(Le())}),[n]),Object(a.jsx)("div",{className:r.base,children:Object(a.jsx)(Wn,{})})},Vn=n(253),Un=n(258),Kn=(n(187),Object(u.h)((function(e){var t,n=Object(u.g)(),r=function(e){var t=e.pathname.split("/");return(t=t.filter((function(e){return""!==e}))).length},i=Object(c.useState)(r(n)),o=Object(s.a)(i,2),l=o[0],d=o[1];Object(c.useEffect)((function(){d(r(n)),console.log("depth",r(n))}),[n]);var j=n.pathname.split("/")[1]||"/";return Object(a.jsx)("div",{children:Object(a.jsx)(Un.a,{component:"div",className:"App",children:Object(a.jsx)(Vn.a,{timeout:{enter:800,exit:400},classNames:"pageSlider",mountOnEnter:!0,unmountOnExit:!0,children:Object(a.jsxs)("div",{className:r(n)-l>=0?"left":"right",children:[Object(a.jsx)(u.a,(t={exact:!0,path:"/main"},Object(ft.a)(t,"exact",!0),Object(ft.a)(t,"component",tn),t)),Object(a.jsx)(u.a,{path:"/tag",exact:!0,component:cn}),Object(a.jsxs)(u.a,{path:"/test",exact:!0,children:[" ",Object(a.jsx)(Yt,{})," "]}),Object(a.jsx)(u.a,{path:"/notice",exact:!0,component:kn}),Object(a.jsx)(u.a,{path:"/favorite",exact:!0,component:Sn}),Object(a.jsx)(u.a,{path:"/tagconfig",exact:!0,component:Pn}),Object(a.jsx)(u.a,{path:"/tagadmin",exact:!0,component:Yn}),Object(a.jsx)(u.a,{path:"/reply/:id",exact:!0,component:xn})]})},j)})})}))),Jn=Object(x.a)({side:{position:"fixed",marginTop:"28px",width:"200px"},contentMobile:{marginTop:"50px"},contentDesktop:{left:"200px",marginTop:"50px",marginLeft:"210px"},article:{display:"flex"}}),qn=function(e){var t=Object(l.b)(),n=Object(l.c)((function(e){return e.error_control.errorFlg})),r=Object(c.useState)(!1),i=Object(s.a)(r,2),o=i[0],u=i[1],d=Object(c.useState)(!1),b=Object(s.a)(d,2),O=b[0],f=b[1],g=Object(c.useState)(!1),h=Object(s.a)(g,2),x=h[0],p=h[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),y=(v[0],v[1]),_=Object(l.c)((function(e){return e.reply_main.reply_source})),k=Object(l.c)((function(e){return e.follow_main.follow_data}),{}),C=Object(l.c)((function(e){return e.auth_login.tag_list}),[]),N=Jn(),S=function(){u(!1)},w=function(){p(!1),f(!1),y(!1)};Object(c.useEffect)((function(){C&&C.length>0||n||t(Le())}),[]),Object(c.useEffect)((function(){(ke(k)||ke(_))&&f(!0)}),[k,_]);var E=j(),M=E.width,I=(E.height,M<500);return Object(a.jsx)("div",{children:n?Object(a.jsx)("div",{}):Object(a.jsxs)("div",{children:[Object(a.jsx)(T,{mobile:I,openMenu:function(){u(!0)}}),I?Object(a.jsx)(jt,{mobile:I,open:o,onClose:S}):Object(a.jsx)("div",{className:N.side,children:Object(a.jsx)(lt,{})}),Object(a.jsx)("div",{className:I?N.contentMobile:N.contentDesktop,children:Object(a.jsx)(Kn,{})}),Object(a.jsx)(Ot,{}),Object(a.jsx)(xe,{onModalOpen:function(e){switch(e){case ue:f(!0);break;case de:p(!0)}}}),Object(a.jsx)(at,{open:x,onClose:function(){return w()}}),Object(a.jsx)(et,{open:O,onClose:function(){return w()},follow_data:k,reply_source:_})]})})},Qn=n(249),Xn=n(247),Zn=n(248),$n=Object(x.a)((function(e){return{loginroot:{justifyContent:"center",display:"flex",flexWrap:"wrap",width:400,margin:"".concat(e.spacing(0)," auto")},card:{justifyContent:"center",marginTop:e.spacing(20),width:"70%",maxWidth:"300px"},button:{display:"block",marginRight:"auto",marginLeft:"auto"}}})),ea=function(e){var t=e.Content,n=e.ButtonAction,c=e.Footer,r=(Object(u.f)(),$n());return Object(a.jsxs)("div",{className:r.loginroot,children:[Object(a.jsxs)(me.a,{className:r.card,children:[Object(a.jsx)(Xn.a,{children:t}),Object(a.jsx)(Zn.a,{children:Object(a.jsx)("div",{className:r.button,children:n})})]}),c]})},ta=Object(x.a)((function(e){return{loginroot:{justifyContent:"center",display:"flex",flexWrap:"wrap",width:400,margin:"".concat(e.spacing(0)," auto")},card:{justifyContent:"center",marginTop:e.spacing(20),width:"70%",maxWidth:"300px"},button:{display:"block",marginRight:"auto",marginLeft:"auto"}}})),na=function(){var e=Object(u.f)(),t=(ta(),Object(a.jsx)(Qn.a,{height:"50%",component:"img",image:"".concat(".","/tagleadlogo.png")})),n=Object(a.jsx)(it,{redi:!1,callback:function(){return e.push("/")}}),c=Object(a.jsx)(en,{isModal:!0});return Object(a.jsx)(ea,{Content:t,ButtonAction:n,Footer:c})},aa=function(e){var t=Object(l.c)((function(e){return e.error_control})),n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],o=r[1],u=Object(c.useState)(""),d=Object(s.a)(u,2),j=d[0],b=d[1];Object(c.useEffect)((function(){o(t.errorCode),b(t.errorMsg)}),[t]);return Object(a.jsx)(ea,{Content:Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:" \u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3000\u4e00\u5ea6\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),Object(a.jsxs)("div",{children:["\u72b6\u6cc1\uff1a ",j]}),Object(a.jsxs)("div",{children:["\u30b3\u30fc\u30c9:\u3000",i]})]}),ButtonAction:Object(a.jsx)(ot,{}),Footer:Object(a.jsx)("div",{})})},ca=function(e){var t=Object(u.f)();return Object(a.jsx)(ea,{Content:Object(a.jsx)("div",{children:"\u30ed\u30b0\u30a2\u30a6\u30c8\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002"}),ButtonAction:Object(a.jsx)(ye.a,{color:"secondary",onClick:function(){t.push("/")},variant:"outlined",children:"\u6700\u521d\u306e\u753b\u9762\u3078"}),Footer:Object(a.jsx)("div",{})})};var ra=function(){var e=Object(u.g)(),t=Object(u.f)(),n=Object(l.c)((function(e){return e.error_control}));return Object(c.useEffect)((function(){n.errorFlg&&t.push("/error")}),[n,e]),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,component:na}),Object(a.jsx)(u.a,{path:"/logout",exact:!0,component:ca}),Object(a.jsx)(u.a,{path:"/error",exact:!0,component:aa}),"/"!=e.pathname&&Object(a.jsx)(u.a,{component:qn})]})})},ia=n(51),oa=n(135),sa=n(136),la=n(10),ua={type:"NONE",user_list:[],unit_list:[],timeline:[],isPrivate:!1,login_id:"",results:[],endflg:!1,notices:[]},da={isLoad:!1,user_list:[],main_tag:[],sub_tag:[],all_tag:[],formatted:[],user_config:[]},ja={tag_list:[],change:0},ba={timeline:[],read:[],fav:[],memomake_open:!1,endflg:!1,change:0},Oa={timeline:[],read:[],fav:[],endflg:!1,change:0},fa={self_data:{},reply_source:{},parent_data:null,past_thread:[],child_data:[],future_thread:[],load_flg:!1},ga={follow_data:{}},ha={notices:[],snack:[],count:0},xa={errorFlg:!1,errorMsg:"",errorCode:-1},pa=Object(ia.c)({memo_main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua,n=t.result;switch(t.type){case H:return Object(la.a)(Object(la.a)({},e),{},{timeline:n.timeline,read:n.read,fav:n.fav,endflg:n.endFlg});case B:var a=e.timeline.concat().concat(n.timeline),c=e.read.concat().concat(n.read),r=e.fav.concat().concat(n.fav);return Object(la.a)(Object(la.a)({},e),{},{timeline:a,read:c,fav:r,endflg:n.endflg});case X:console.log("result:",n);var i=e.timeline.map((function(e){return e.id===n.id?n:e}));return Object(la.a)(Object(la.a)({},e),{},{timeline:i});case F:return Object.assign({},e,{isPrivate:t.isPrivate,memomake_open:t.memomake_open});case z:return Object.assign({},e,{memomake_open:!1});case W:return Object(la.a)(Object(la.a)({},e),{},{timeline:[],read:[],fav:[],endflg:!1});case Q:return Object(la.a)(Object(la.a)({},e),{},{change:n.change});default:return e}},auth_login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua,n=t.result;switch(t.type){case te:return Object(la.a)(Object(la.a)({},e),{},{isLoad:!0});case ne:return Object(la.a)(Object(la.a)({},e),{},{isLoad:!1});case ae:var a=n.res;return Object(la.a)(Object(la.a)({},e),{},{userId:a.userId,userRank:a.userRank,user_list:a.user_list,main_tag:a.main,sub_tag:a.sub,all_tag:a.all,formatted:a.formatted});case ce:return Object(la.a)(Object(la.a)({},e),{},{user_config:n.user_config});case re:return Object(la.a)(Object(la.a)({},e),{},{main_tag:n.main_tag,sub_tag:n.sub_tag,user_config:n.user_config});default:return e}},tagged_main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua,n=t.result;switch(t.type){case q:return Object(la.a)(Object(la.a)({},e),{},{timeline:n.timeline,read:n.read,fav:n.fav,endflg:n.endflg});case $:return 0==n.timeline.length?(console.log(" has no next "),Object(la.a)(Object(la.a)({},e),{},{endflg:n.endflg})):Object(la.a)(Object(la.a)({},e),{},{timeline:e.timeline.concat().concat(n.timeline),read:e.read.concat().concat(n.read),fav:e.fav.concat().concat(n.fav),endflg:n.endflg});case Z:console.log("result:",n);var a=e.timeline.map((function(e){return e.id===n.id?n:e}));return Object(la.a)(Object(la.a)({},e),{},{timeline:a});default:return e}},reply_main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(la.a)(Object(la.a)({},e),{},{reply_source:t.reply_source});case fe:return Object(la.a)(Object(la.a)({},e),{},{reply_source:{}});case J:var n=t.result;console.log(" reply source ",n);var a=[],c=[],r=[],i={};console.log(" reply timeline ",n.timeline);var o=n.timeline.find((function(e){return e.id===parseInt(n.id)}));return n.timeline.map((function(e){e.id<o.id?o.keyParent===e.id?i=e:a.push(e):e.id>o.id&&(e.keyParent===o.id?c.push(e):r.push(e))})),Object(la.a)(Object(la.a)({},e),{},{self_data:o,parent_data:i,past_thread:a,child_data:c,future_thread:r,endFlg:!0,load_flg:!0});default:return e}},notice_main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;switch(t.type){case le:return Object(la.a)(Object(la.a)({},e),{},{notices:t.result.notices,count:t.result.count});case ee:return Object(la.a)(Object(la.a)({},e),{},{snack:[].concat(Object(Be.a)(e.snack),[t.msg])});default:return e}},follow_main:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(la.a)(Object(la.a)({},e),{},{follow_data:t.follow_data});case be:return Object(la.a)(Object(la.a)({},e),{},{follow_data:{}});default:return e}},show_favorite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(la.a)(Object(la.a)({},e),{},{timeline:t.result.timeline,read:t.result.read,fav:t.result.fav,endflg:t.result.endFlg});default:return e}},error_control:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua,n=t.result;switch(t.type){case G:return xa;case Y:return Object(la.a)(Object(la.a)({},e),{},{errorFlg:!0,errorMsg:n.errorMsg,errorCode:n.errorCode});case U:return Object(la.a)(Object(la.a)({},e),{},{errorFlg:!0,errorMsg:t.result.errorMsg});case V:return Object(la.a)(Object(la.a)({},e),{},{errorFlg:!0,errorMsg:"\u901a\u4fe1\u30a8\u30e9\u30fc\u304c\u767a\u751f\u518d\u63a5\u7d9a\u3057\u307e\u3059"});default:return e}},tag_admin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;switch(t.type){case ie:return console.log("SHOW_TAG_ADMIN DONE"),Object(la.a)(Object(la.a)({},e),{},{tag_list:t.result.tag_list});case oe:case se:return Object(la.a)(Object(la.a)({},e),{},{change:t.result.change});default:return e}}});var ma=function(e){var t=Object(sa.createLogger)({collapsed:!0,diff:!0}),n=Object(ia.a)(oa.a,t);return Object(ia.d)(n)(ia.e)(pa,e)}(),va=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};o.a.render(Object(a.jsx)(l.a,{store:ma,children:Object(a.jsx)(bt.a,{maxSnack:3,children:Object(a.jsx)(d.a,{children:Object(a.jsx)(ra,{})})})}),document.getElementById("root")),va()}},[[188,1,2]]]);
//# sourceMappingURL=main.67f4e2a9.chunk.js.map